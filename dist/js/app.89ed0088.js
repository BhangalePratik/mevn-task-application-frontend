(function(e){function t(t){for(var n,s,c=t[0],i=t[1],u=t[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==a[i]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function a(e,t,r,a,o,s){var c=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(c)}var o={created:function(){try{this.$store.dispatch("tryLogin")}catch(e){console.log(e.message)}}};r("dde9");o.render=a;var s=o,c=r("6c02"),i={class:"my-2"},u=Object(n["f"])("If you don't have account "),l=Object(n["f"])("Register");function d(e,t,r,a,o,s){var c=Object(n["v"])("router-link"),d=Object(n["v"])("login-signup-form"),p=Object(n["v"])("basic-card");return Object(n["p"])(),Object(n["d"])(p,null,{default:Object(n["B"])((function(){return[Object(n["g"])(d,{mode:"login"},{default:Object(n["B"])((function(){return[Object(n["g"])("p",i,[u,Object(n["g"])(c,{to:"/signup"},{default:Object(n["B"])((function(){return[l]})),_:1})])]})),_:1})]})),_:1})}var p={id:"basic-card",class:"container"},b={class:"row"},m={class:"col-md-5 mx-auto"},f={class:"card position-relative top-50 ",style:{transform:"translate(0%, -25%)"}},g={class:"card-body"};function h(e,t,r,a,o,s){return Object(n["p"])(),Object(n["d"])("div",p,[Object(n["g"])("div",b,[Object(n["g"])("div",m,[Object(n["g"])("div",f,[Object(n["g"])("div",g,[Object(n["u"])(e.$slots,"default")])])])])])}var w={props:["mode"]};w.render=h;var j=w,O={class:"card-title text-center text-capitalize"},v={class:"mb-3"},k=Object(n["g"])("label",{for:"email"},"Email",-1),y={key:0,class:"text-danger"},x={class:"mb-3"},_=Object(n["g"])("label",{for:"password"},"Password",-1),E={key:0,class:"text-danger"},S=Object(n["g"])("button",{type:"submit",id:"submitButton",class:"btn btn-primary w-100"},"Submit",-1);function B(e,t,r,a,o,s){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("h4",O,Object(n["x"])(r.mode),1),Object(n["g"])("form",{onSubmit:t[3]||(t[3]=Object(n["D"])((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[Object(n["g"])("div",v,[k,Object(n["g"])("input",{type:"email",class:"form-control",id:"email",placeholder:"Enter email",required:"",onInput:t[1]||(t[1]=function(){return s.doEmailValidation&&s.doEmailValidation.apply(s,arguments)})},null,32),o.invalidEmailFeedback?(Object(n["p"])(),Object(n["d"])("div",y,"Please fill out this field.")):Object(n["e"])("",!0)]),Object(n["g"])("div",x,[_,Object(n["g"])("input",{type:"password",class:"form-control",id:"password",placeholder:"Enter password",required:"",onInput:t[2]||(t[2]=function(){return s.doPasswordValidation&&s.doPasswordValidation.apply(s,arguments)})},null,32),o.invalidPasswordFeedback&&"signup"===r.mode?(Object(n["p"])(),Object(n["d"])("div",E,"Password should contain 8 character ad includes uppercase,lowercase,symbol and number")):Object(n["e"])("",!0)]),S,Object(n["u"])(e.$slots,"default")],32)],64)}var R=r("1da1"),N=(r("ac1f"),r("5319"),r("96cf"),r("f90c")),P=r.n(N),F={data:function(){return{email:"",password:"",invalidPasswordFeedback:!1,invalidEmailFeedback:!1,isEmailValid:!1,isPasswordValid:!1}},props:["mode"],methods:{submitForm:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.mode),t.next=4,e.$store.dispatch("signupLoginForm",{email:e.email,password:e.password,mode:e.mode});case 4:e.$router.push("/shownotes"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},doPasswordValidation:function(e){if(this.password=e.target.value,"signup"===this.mode){var t=document.getElementById("password");this.isPasswordValid=P.a.isStrongPassword(e.target.value,[{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1}]),this.isPasswordValid?(console.log("strong password"),t.classList.replace("border-danger","border-success"),this.invalidPasswordFeedback=!1):(console.log("weak password"),t.classList.add("border-danger"),this.invalidPasswordFeedback=!0,t.classList.contains("border-success")&&t.classList.remove("border-success"))}},doEmailValidation:function(e){if(this.email=e.target.value,"signup"===this.mode){var t=document.getElementById("email");this.isEmailValid=P.a.isEmail(e.target.value),this.isEmailValid?(this.invalidEmailFeedback=!1,t.classList.replace("border-danger","border-success")):(this.invalidEmailFeedback=!0,t.classList.add("border-danger"),t.classList.contains("border-success")&&t.classList.remove("border-success"))}}}};F.render=B;var A=F,C={components:{BasicCard:j,LoginSignupForm:A}};C.render=d;var V=C,L={class:"my-2"},$=Object(n["f"])("If you already have a account Please "),q=Object(n["f"])("Login");function z(e,t,r,a,o,s){var c=Object(n["v"])("router-link"),i=Object(n["v"])("login-signup-form"),u=Object(n["v"])("basic-card");return Object(n["p"])(),Object(n["d"])(u,null,{default:Object(n["B"])((function(){return[Object(n["g"])(i,{mode:"signup"},{default:Object(n["B"])((function(){return[Object(n["g"])("p",L,[$,Object(n["g"])(c,{to:"/login"},{default:Object(n["B"])((function(){return[q]})),_:1})])]})),_:1})]})),_:1})}var U={components:{BasicCard:j,LoginSignupForm:A}};U.render=z;var I=U,D=(r("a4d3"),r("e01a"),Object(n["g"])("h3",{class:"text-center"},"Notes",-1)),J={key:0},M={class:"d-flex flex-row justify-content-between"},H={class:"d-flex flex-column justify-content-between"},T={key:1},Y=Object(n["g"])("a",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"Ã—",-1),G={class:"form-group mb-3 mt-2"},K=Object(n["g"])("h5",null,"Enter email id of contributor : ",-1),Q={class:"form-group mb-3 mt-2"},W=Object(n["g"])("h5",null,"Enter email id of reader : ",-1),X={class:"d-flex flex-row justify-content-between"},Z=Object(n["g"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),ee={class:"fixed-bottom d-flex justify-content-center mb-3"},te={class:"px-2"},re=Object(n["g"])("button",{type:"button",class:"btn btn-warning mr-2"},"Update User",-1),ne={class:"px-2"},ae=Object(n["g"])("button",{type:"button",class:"btn btn-primary mr-2"},"Add Note",-1),oe={class:"px-2"};function se(e,t,r,a,o,s){var c=Object(n["v"])("basic-card"),i=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])(n["a"],null,[D,o.toBeShare?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("div",J,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(s.notes,(function(e){return Object(n["p"])(),Object(n["d"])(c,{key:e._id,id:e._id,class:"mb-3"},{default:Object(n["B"])((function(){return[Object(n["g"])("div",M,[Object(n["g"])("div",null,[Object(n["g"])("h3",null,Object(n["x"])(e.title),1),Object(n["g"])("p",null,Object(n["x"])(e.description),1)]),Object(n["g"])("div",H,[Object(n["g"])("button",{type:"button",class:"btn btn-primary",style:{width:"100px"},onClick:function(t){return s.setShare(e)},disabled:!s.haveAccessShare(e)},"Share",8,["onClick","disabled"]),Object(n["g"])("button",{type:"button",class:"btn btn-danger",style:{width:"100px"},onClick:function(t){return s.deleteNote(e)},disabled:!s.haveAccessDelete(e)},"Delete",8,["onClick","disabled"])])])]})),_:2},1032,["id"])})),128))])),o.toBeShare?(Object(n["p"])(),Object(n["d"])("div",T,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(o.alerts,(function(e){return Object(n["p"])(),Object(n["d"])("div",{key:e.alertNumber,class:"position-fixed",style:{top:"10px",left:"50%",transform:"translate(-50%, 0%)"}},[Object(n["g"])("div",{class:["alert alert-dismissible d-flex flex-row justify-content-between",e.value?"alert-success":"alert-danger"]},[Object(n["g"])("p",null,Object(n["x"])(e.reason||e.value),1),Y],2)])})),128)),Object(n["g"])(c,null,{default:Object(n["B"])((function(){return[Object(n["g"])("form",{onSubmit:t[4]||(t[4]=Object(n["D"])((function(){return s.shareNote&&s.shareNote.apply(s,arguments)}),["prevent"]))},[Object(n["g"])("div",G,[K,Object(n["C"])(Object(n["g"])("input",{type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email of contributor","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.contributorEmail=e})},null,512),[[n["z"],o.contributorEmail]])]),Object(n["g"])("div",Q,[W,Object(n["C"])(Object(n["g"])("input",{type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email of contributor","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.readerEmail=e})},null,512),[[n["z"],o.readerEmail]])]),Object(n["g"])("div",X,[Z,Object(n["g"])("button",{type:"submit",class:"btn btn-danger",onClick:t[3]||(t[3]=function(e){return o.toBeShare=!1})},"Cancel")])],32)]})),_:1})])):Object(n["e"])("",!0),Object(n["g"])("div",ee,[Object(n["g"])("div",te,[Object(n["g"])(i,{to:"/updateuser"},{default:Object(n["B"])((function(){return[re]})),_:1})]),Object(n["g"])("div",ne,[Object(n["g"])(i,{to:"/addnotes"},{default:Object(n["B"])((function(){return[ae]})),_:1})]),Object(n["g"])("div",oe,[Object(n["g"])("button",{type:"button",class:"btn btn-danger",onClick:t[5]||(t[5]=function(){return s.logout&&s.logout.apply(s,arguments)})},"Log Out")])])],64)}var ce=r("5530"),ie=(r("d81d"),r("caad"),r("2532"),{components:{BasicCard:j},data:function(){return{toBeShare:!1,note:{},contributorEmail:"",readerEmail:"",alerts:[],counter:0}},computed:{notes:function(){return this.$store.getters.notes}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")},deleteNote:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e),r.next=4,t.$store.dispatch("deleteNote",e._id);case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),alert("Deletion faied");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},setShare:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:console.log(e),t.note=e,t.toBeShare=!0;case 3:case"end":return r.stop()}}),r)})))()},shareNote:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("shareNote",{id:e.note._id,contributorEmail:e.contributorEmail,readerEmail:e.readerEmail});case 3:e.alerts=t.sent,console.log(e.alerts),e.alerts=e.alerts.map((function(t){return e.counter++,Object(ce["a"])(Object(ce["a"])({},t),{},{alertNumber:e.counter})})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},haveAccessDelete:function(e){var t=this.$store.getters.user._id;return console.log("note owner is ",e.owner),console.log("user id is ",t),e.owner===t},haveAccessShare:function(e){var t=this.$store.getters.user._id;return e.owner===t||e.contributors.includes(t)}},created:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("showNotes");case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0.message),console.log("Error Occured while showing notes");case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}});ie.render=se;var ue=ie,le=Object(n["g"])("h4",{class:"text-center my-4"},"Add Note",-1),de={class:"mb-3"},pe=Object(n["g"])("label",{for:"title",class:"form-label"},"Title",-1),be={class:"mb-3"},me=Object(n["g"])("label",{for:"description",class:"form-label"},"Description",-1),fe=Object(n["g"])("button",{type:"submit",class:"btn btn-primary w-100"},"Submit",-1);function ge(e,t,r,a,o,s){var c=Object(n["v"])("basic-card");return Object(n["p"])(),Object(n["d"])(c,null,{default:Object(n["B"])((function(){return[le,Object(n["g"])("form",{onSubmit:t[3]||(t[3]=Object(n["D"])((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[Object(n["g"])("div",de,[pe,Object(n["C"])(Object(n["g"])("input",{type:"test",class:"form-control",id:"title","aria-describedby":"emailHelp","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e}),required:""},null,512),[[n["z"],o.title]])]),Object(n["g"])("div",be,[me,Object(n["C"])(Object(n["g"])("textarea",{id:"description",class:"form-control",rows:"4",cols:"50","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.description=e})},null,512),[[n["z"],o.description]])]),fe],32)]})),_:1})}var he={components:{BasicCard:j},data:function(){return{title:"",description:""}},methods:{submitForm:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("addNote",{title:e.title,description:e.description});case 3:e.$router.push("/shownotes"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("Error Occurred while adding notes");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}};he.render=ge;var we=he,je=Object(n["g"])("h4",{class:"text-center my-4"},"Update User Info",-1),Oe={class:"mb-3"},ve=Object(n["g"])("label",{for:"old-pasword",class:"form-label"},"Enter your Old Password",-1),ke={class:"mb-3"},ye=Object(n["g"])("label",{for:"new-password",class:"form-label"},"Enter your New Password",-1),xe={class:"mb-3"},_e=Object(n["g"])("label",{for:"reentered-new-password",class:"form-label"},"Enter your New Password Again",-1),Ee={key:0},Se=Object(n["g"])("button",{type:"submit",class:"btn btn-primary w-100"},"Submit",-1);function Be(e,t,r,a,o,s){var c=Object(n["v"])("basic-card");return Object(n["p"])(),Object(n["d"])(c,null,{default:Object(n["B"])((function(){return[je,Object(n["g"])("form",{onSubmit:t[4]||(t[4]=Object(n["D"])((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[Object(n["g"])("div",Oe,[ve,Object(n["C"])(Object(n["g"])("input",{type:"password",class:"form-control",id:"old-password",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.old_password=e})},null,512),[[n["z"],o.old_password]])]),Object(n["g"])("div",ke,[ye,Object(n["C"])(Object(n["g"])("input",{type:"password",class:"form-control",id:"new-password",required:"","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.new_password=e})},null,512),[[n["z"],o.new_password]])]),Object(n["g"])("div",xe,[_e,Object(n["C"])(Object(n["g"])("input",{type:"password",class:"form-control",id:"reentered-new-password",required:"","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.reentered_new_password=e})},null,512),[[n["z"],o.reentered_new_password]])]),""!==o.reentered_new_password&&o.new_password!==o.reentered_new_password?(Object(n["p"])(),Object(n["d"])("h5",Ee,"New Password and Reentered New Password are not matching")):Object(n["e"])("",!0),Se],32)]})),_:1})}var Re={components:{BasicCard:j},data:function(){return{old_password:"",new_password:"",reentered_new_password:""}},methods:{submitForm:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("updateForm",{old_password:e.old_password,new_password:e.new_password,reentered_new_password:e.reentered_new_password});case 3:e.$router.push("/shownotes"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),alert("Updationg Failed");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}};Re.render=Be;var Ne=Re,Pe=(r("159b"),r("5502")),Fe=r("bc3a"),Ae=r.n(Fe),Ce=Object(Pe["a"])({state:function(){return{notes:[],token:"",user:{}}},mutations:{logout:function(e){e.notes=[],e.token="",e.user={},localStorage.clear()}},actions:{logout:function(e){e.commit("logout"),alert("You logged out successfully")},signupLoginForm:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ae.a.post("https://taskprojectpanda.herokuapp.com/user/"+t.mode,{email:t.email,password:t.password});case 3:n=r.sent,console.log(n),a=n.data,o=a.token,s=a.user,console.log("token ",o),console.log("user",s),e.state.token=o,e.state.user=s,localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("token",o),r.next=21;break;case 14:if(r.prev=14,r.t0=r["catch"](0),!(r.t0.response&&r.t0.response.data&&r.t0.response.data.message)){r.next=20;break}throw new Error(r.t0.response.data.message);case 20:throw new Error(r.t0.message);case 21:case"end":return r.stop()}}),r,null,[[0,14]])})))()},updateForm:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.new_password===t.reentered_new_password){r.next=3;break}throw new Error("New and Reentered Password are not matching");case 3:return r.next=5,Ae.a.patch("https://taskprojectpanda.herokuapp.com/user/update/me",{old_password:t.old_password,new_password:t.new_password},{headers:{Authorization:"Bearer "+e.state.token}});case 5:if(n=r.sent,!n||200===n.status){r.next=9;break}throw console.log("updation error occurred"),new Error("updation error occurred");case 9:r.next=18;break;case 11:if(r.prev=11,r.t0=r["catch"](0),!(r.t0.response&&r.t0.response.data&&r.t0.response.data.message)){r.next=17;break}throw new Error(r.t0.response.data.message);case 17:throw new Error(r.t0.message);case 18:case"end":return r.stop()}}),r,null,[[0,11]])})))()},showNotes:function(e){return Object(R["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.state.token,"context state token"),t.next=4,Ae.a.get("https://taskprojectpanda.herokuapp.com/task/read/me",{headers:{Authorization:"Bearer ".concat(e.state.token)}});case 4:r=t.sent,console.log(r),e.state.notes=r.data,t.next=16;break;case 9:if(t.prev=9,t.t0=t["catch"](0),!(t.t0.response&&t.t0.response.data&&t.t0.response.data.message)){t.next=15;break}throw new Error(t.t0.response.data.message);case 15:throw new Error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addNote:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.title,a=t.description,r.prev=1,r.next=4,Ae.a.post("https://taskprojectpanda.herokuapp.com/task/create",{title:n,description:a},{headers:{Authorization:"Bearer "+e.state.token}});case 4:return o=r.sent,console.log(o),r.next=8,e.dispatch("showNotes");case 8:r.next=17;break;case 10:if(r.prev=10,r.t0=r["catch"](1),!(r.t0.response&&r.t0.response.data&&r.t0.response.data.message)){r.next=16;break}throw new Error(r.t0.response.data.message);case 16:throw new Error(r.t0.message);case 17:case"end":return r.stop()}}),r,null,[[1,10]])})))()},deleteNote:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ae.a.delete("https://taskprojectpanda.herokuapp.com/task/delete/"+t,{headers:{Authorization:"Bearer "+e.state.token}});case 3:return n=r.sent,console.log(n),r.next=7,e.dispatch("showNotes");case 7:r.next=16;break;case 9:if(r.prev=9,r.t0=r["catch"](0),!(r.t0.response&&r.t0.response.data&&r.t0.response.data.message)){r.next=15;break}throw new Error(r.t0.response.data.message);case 15:throw new Error(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,9]])})))()},shareNote:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.id,a=t.contributorEmail,o=t.readerEmail,r.prev=1,s=[],r.next=5,Ae.a.patch("https://taskprojectpanda.herokuapp.com/task/share/"+n,{contributors:[a],readers:[o]},{headers:{Authorization:"Bearer "+e.state.token}});case 5:return c=r.sent,c.data&&c.data.forEach((function(e){s.push(e)})),r.abrupt("return",s);case 10:if(r.prev=10,r.t0=r["catch"](1),!(r.t0.response&&r.t0.response.data&&r.t0.response.data.message)){r.next=16;break}throw new Error(r.t0.response.data.message);case 16:throw new Error(r.t0.message);case 17:case"end":return r.stop()}}),r,null,[[1,10]])})))()},tryLogin:function(e){var t=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user"));e.state.token=t,e.state.user=r}},getters:{notes:function(e){return e.notes},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},user:function(e){return e.user}}}),Ve=[{path:"",redirect:"/login"},{path:"/login",component:V,meta:{requiredAuth:!1}},{path:"/signup",component:I,meta:{requiredAuth:!1}},{path:"/shownotes",component:ue,meta:{requiredAuth:!0}},{path:"/addnotes",component:we,meta:{requiredAuth:!0}},{path:"/updateuser",component:Ne,meta:{requiredAuth:!0}}],Le=Object(c["a"])({history:Object(c["b"])(),routes:Ve});Le.beforeEach((function(e,t,r){e.meta.requiredAuth&&!Ce.getters.isAuthenticated?r("/login"):!e.meta.requiredAuth&&Ce.getters.isAuthenticated?r("/shownotes"):r()}));var $e=Le,qe=Object(n["c"])(s);qe.use($e),qe.use(Ce),qe.mount("#app")},dde9:function(e,t,r){"use strict";r("de3a")},de3a:function(e,t,r){}});
//# sourceMappingURL=app.89ed0088.js.map